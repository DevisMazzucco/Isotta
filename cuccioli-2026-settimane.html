<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title data-it="Cuccioli Bobtail 2026 ‚Äì Settimana per settimana"
         data-en="Bobtail Puppies 2026 ‚Äì Week by week">
         Cuccioli Bobtail 2026 ‚Äì Settimana per settimana
  </title>

  <meta name="description"
        data-it="Crescita dei cuccioli Bobtail 2026 settimana per settimana: foto, sviluppo, carattere e aggiornamenti."
        data-en="Growth of Bobtail puppies 2026 week by week: photos, development, temperament and updates.">

  <style>

  /* ===========================
     PALETTE & VARIABILI
  ============================ */
  :root {
    --blu: #010E80;
    --oro: #A39261;
    --bg-dark: #0f0f0f;
    --bg-card: #141414;
    --bg-soft: #1a1a1a;
    --text-light: #e6e6e6;
    --border-soft: rgba(163,146,97,0.35);
    --shadow-soft: 0 0 18px rgba(0,0,0,0.45);
  }

  /* ===========================
     BASE
  ============================ */
  body {
    font-family: "Segoe UI", Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: var(--bg-dark);
    color: var(--text-light);
    animation: fadeIn 0.6s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  /* ===========================
     HEADER
  ============================ */
  header {
    text-align: center;
    padding: 50px 20px 40px;
    background: url('img/header-dog.jpeg') center/cover no-repeat;
    color: white;
    position: relative;
    box-shadow: 0 0 25px rgba(0,0,0,0.5);
  }

  header::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.55);
  }

  header * { position: relative; z-index: 1; }

  header h1 {
    margin: 0;
    font-size: 2.6em;
    text-shadow: 0 0 12px black;
    letter-spacing: 1px;
  }

  header p {
    font-size: 1.25em;
    opacity: 0.9;
    margin-top: 10px;
  }

  #lang-select {
    margin-top: 18px;
    padding: 6px 12px;
    font-size: 1em;
    border-radius: 6px;
    border: 1px solid #444;
    background: var(--bg-soft);
    color: var(--text-light);
    cursor: pointer;
  }

  /* ===========================
     MENU LATERALE
  ============================ */
  #side-menu {
    position: fixed;
    top: 140px;
    left: 20px;
    background: var(--bg-soft);
    padding: 22px;
    border-radius: 14px;
    border: 1px solid #333;
    box-shadow: var(--shadow-soft);
    z-index: 999;
    backdrop-filter: blur(4px);
  }

  #side-menu a {
    display: block;
    color: var(--text-light);
    text-decoration: none;
    margin-bottom: 12px;
    font-size: 1em;
    transition: 0.25s ease;
  }

  #side-menu a:hover {
    color: var(--oro);
    transform: translateX(4px);
  }

  /* ===========================
     SEZIONI
  ============================ */
  section {
    width: 85%;
    max-width: 900px;
    margin: 40px auto;
    padding: 45px;
    background: var(--bg-card);
    border-radius: 20px;
    border: 1px solid #222;
    box-shadow: 0 0 25px rgba(0,0,0,0.4);
  }

  h2 {
    font-size: 2em;
    margin-bottom: 20px;
    border-left: 4px solid var(--blu);
    padding-left: 12px;
    letter-spacing: 0.5px;
  }

  .week-block {
    margin-top: 40px;
    padding: 28px;
    background: var(--bg-soft);
    border-radius: 18px;
    border: 1px solid #333;
    box-shadow: var(--shadow-soft);
    transition: 0.3s ease;
  }

  .week-block:hover {
    transform: translateY(-3px);
    box-shadow: 0 0 25px rgba(0,0,0,0.5);
  }

  .week-block h3 {
    margin-top: 0;
    font-size: 1.55em;
    border-left: 4px solid var(--oro);
    padding-left: 10px;
    letter-spacing: 0.3px;
  }

/* ===========================
   CAROSELLO MIGLIORATO
=========================== */

.carousel {
  position: relative;
  overflow: hidden;
  border-radius: 14px;
  margin-top: 20px;
}

.carousel-track {
  display: flex;
  transition: transform 0.35s ease;
}

.carousel-track img {
  width: 180px;       /* dimensione uniforme */
  height: 120px;
  object-fit: cover;
  border-radius: 12px;
  flex-shrink: 0;
  cursor: pointer;
  border: 1px solid var(--border-soft);
  transition: transform 0.25s ease, opacity 0.25s ease;
}

.carousel-track img:hover {
  transform: scale(1.06);
  opacity: 0.95;
}

.carousel-controls {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 22px;
  margin-top: 14px;
}

.carousel-btn {
  background: rgba(0,0,0,0.55);
  border: none;
  color: white;
  padding: 10px 14px;
  cursor: pointer;
  border-radius: 10px;
  font-size: 1.4em;
  transition: 0.25s ease;
}

.carousel-btn:hover {
  background: rgba(163,146,97,0.8);
}

.carousel-counter {
  text-align: center;
  margin-top: 8px;
  font-size: 0.95em;
  color: var(--oro);
  letter-spacing: 0.5px;
}
  /* FRECCE */
  .carousel-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 22px;
    margin-top: 14px;
  }

  .carousel-btn {
    background: rgba(0,0,0,0.55);
    border: none;
    color: white;
    padding: 10px 14px;
    cursor: pointer;
    border-radius: 10px;
    transition: 0.25s ease;
    font-size: 1.4em;
  }

  .carousel-btn:hover {
    background: rgba(163,146,97,0.8);
  }

  /* INDICATORI */
  .carousel-indicators {
    text-align: center;
    margin-top: 10px;
  }

  .carousel-indicators span {
    display: inline-block;
    width: 8px;
    height: 8px;
    margin: 0 4px;
    background: #444;
    border-radius: 50%;
    transition: 0.25s ease;
  }

  .carousel-indicators .active {
    background: var(--blu) !important;
    transform: scale(1.3);
  }

  /* ===========================
     MINIATURE VIDEO
  ============================ */
  .week-video {
    margin-top: 25px;
    text-align: center;
  }

  .video-title {
    text-align: center;
    margin-bottom: 10px;
    color: var(--oro);
    font-size: 1.2em;
    letter-spacing: 0.5px;
  }

  .video-gallery {
    display: flex;
    justify-content: center;
    gap: 25px;
    margin-top: 15px;
    flex-wrap: wrap;
  }

  .video-thumb {
    position: relative;
    width: 100%;
    max-width: 180px;
    cursor: pointer;
    transition: 0.25s ease;
  }

  .video-thumb img {
    width: 100%;
    border-radius: 14px;
    border: 1px solid var(--border-soft);
    box-shadow: var(--shadow-soft);
  }

  .video-thumb:hover {
    transform: scale(1.03);
  }

  .play-icon {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3em;
    color: white;
    text-shadow: 0 0 12px black;
    pointer-events: none;
  }

  /* ===========================
     LIGHTBOX
  ============================ */
  #lightbox {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.88);
    display: none;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    z-index: 99999;
    backdrop-filter: blur(4px);
    transition: opacity 0.25s ease;
  }

  #lightbox img {
    max-width: 90%;
    max-height: 80%;
    border-radius: 14px;
    box-shadow: 0 0 30px rgba(0,0,0,0.6);
  }

  #lightbox-caption {
    margin-top: 18px;
    color: var(--text-light);
    font-size: 1.15em;
    text-align: center;
    max-width: 90%;
    opacity: 0.9;
  }

  .lightbox-arrow {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    font-size: 3.2em;
    color: white;
    cursor: pointer;
    user-select: none;
    padding: 10px;
    transition: 0.25s ease;
  }

  .lightbox-arrow:hover {
    color: var(--oro);
    transform: translateY(-50%) scale(1.15);
  }

  #lightbox-prev { left: 30px; }
  #lightbox-next { right: 30px; }

  .lightbox-close {
    position: fixed;
    top: 25px;
    right: 30px;
    font-size: 2.4em;
    color: white;
    cursor: pointer;
    user-select: none;
    z-index: 100000;
    transition: 0.25s ease;
  }

  .lightbox-close:hover {
    color: var(--oro);
    transform: scale(1.15);
  }

  /* ===========================
     PULSANTI FISSI
  ============================ */
  .fixed-btn {
    position: fixed;
    width: 58px;
    height: 58px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.8em;
    text-decoration: none;
    box-shadow: var(--shadow-soft);
    transition: 0.25s ease;
    z-index: 9999;
    animation: pulse 2.4s infinite ease-in-out;
  }

  @keyframes pulse {
    0%   { transform: scale(1); }
    50%  { transform: scale(1.08); }
    100% { transform: scale(1); }
  }

  .fixed-btn:hover {
    transform: scale(1.12);
    background: var(--oro);
    color: #000;
  }

  .back-to-index {
    bottom: 25px;
    left: 25px;
    background: var(--blu);
  }

  .whatsapp-btn {
    bottom: 25px;
    right: 25px;
    background: #25D366;
  }

  /* ===========================
     FOOTER
  ============================ */
  footer {
    text-align: center;
    padding: 25px;
    background: var(--bg-soft);
    color: #888;
    margin-top: 40px;
    border-top: 1px solid var(--border-soft);
  }

  /* ===========================
     RESPONSIVE
  ============================ */
  @media (max-width: 480px) {

    #side-menu { display: none; }

    section {
      width: 94%;
      padding: 24px 16px;
    }

    header h1 {
      font-size: 1.8em;
    }

    .fixed-btn {
      width: 48px;
      height: 48px;
      font-size: 1.5em;
    }

    .back-to-index {
      bottom: 16px;
      left: 16px;
    }

    .whatsapp-btn {
      bottom: 16px;
      right: 16px;
    }
  }

  </style>
</head>









  <body>

<!-- MENU LATERALE -->
<div id="side-menu">
  <a href="#week1" data-it="Settimana 1" data-en="Week 1">Settimana 1</a>
  <a href="#week2" data-it="Settimana 2" data-en="Week 2">Settimana 2</a>
  <a href="#week3" data-it="Settimana 3" data-en="Week 3">Settimana 3</a>

  <a href="index.html#contatti"
     class="btn-contact"
     data-it="Contattaci ‚Üí"
     data-en="Contact us ‚Üí">
     Contattaci ‚Üí
  </a>
</div>

<!-- HEADER -->
<header>
  <h1 data-it="Cuccioli 2026 ‚Äì Settimana per settimana"
      data-en="Puppies 2026 ‚Äì Week by week">
      Cuccioli 2026 ‚Äì Settimana per settimana
  </h1>

  <p data-it="La crescita dei cuccioli raccontata passo dopo passo"
     data-en="The puppies‚Äô growth told step by step">
     La crescita dei cuccioli raccontata passo dopo passo
  </p>

  <select id="lang-select">
    <option value="it">Italiano</option>
    <option value="en">English</option>
  </select>
</header>

<!-- CONTENUTO PRINCIPALE -->
<section>
  <h2 data-it="Diario di crescita" data-en="Growth diary">Diario di crescita</h2>

  <!-- ===========================
       SETTIMANA 1
  ============================ -->
  <div class="week-block" id="week1">
    <h3 data-it="Settimana 1 ‚Äì I primi giorni"
        data-en="Week 1 ‚Äì First days">
        Settimana 1 ‚Äì I primi giorni
    </h3>

    <p data-it="I cuccioli dormono quasi tutto il giorno. Il loro mondo √® fatto di latte, calore e il respiro della mamma."
       data-en="The puppies sleep almost all day. Their world is made of milk, warmth and their mom‚Äôs breathing.">
       I cuccioli dormono quasi tutto il giorno. Il loro mondo √® fatto di latte, calore e il respiro della mamma.
    </p>

    <!-- CAROSELLO FOTO -->
    <div class="carousel">
      <div class="carousel-track">
        <img src="img/settimana1-1.jpeg" loading="lazy">
        <img src="img/settimana1-2.jpeg" loading="lazy">
        <img src="img/settimana1-3.jpeg" loading="lazy">
        <img src="img/settimana1-4.jpeg" loading="lazy">
        <img src="img/settimana1-5.jpeg" loading="lazy">
        <img src="img/settimana1-6.jpeg" loading="lazy">
        <img src="img/settimana1-7.jpeg" loading="lazy">
        <img src="img/settimana1-8.jpeg" loading="lazy">
        <img src="img/settimana1-9.jpeg" loading="lazy">
        <img src="img/settimana1-10.jpeg" loading="lazy">
        <img src="img/settimana1-11.jpeg" loading="lazy">
      </div>

      <div class="carousel-controls">
        <button class="carousel-btn left">‚ùÆ</button>
        <button class="carousel-btn right">‚ùØ</button>
      </div>
      <div class="carousel-counter">1 / 10</div>
      <div class="carousel-indicators"></div>
    </div>

    <!-- VIDEO DELLA SETTIMANA -->
    <div class="week-video">
      <h4 class="video-title"
          data-it="üé• Video della settimana"
          data-en="üé• Video of the week">
          üé• Video della settimana
      </h4>

      <div class="video-gallery">

        <div class="video-thumb" data-video="img/settimana1-video1.mp4">
          <img src="img/settimana1-video1-thumb.jpg" alt="Video 1 settimana 1">
          <span class="play-icon">‚ñ∂</span>
        </div>

        <div class="video-thumb" data-video="img/settimana1-video2.mp4">
          <img src="img/settimana1-video2-thumb.jpg" alt="Video 2 settimana 1">
          <span class="play-icon">‚ñ∂</span>
        </div>

      </div>
    </div>
  </div>

  <!-- ===========================
       SETTIMANA 2
  ============================ -->
  <div class="week-block" id="week2">
    <h3 data-it="Settimana 2 ‚Äì Occhi che si aprono"
        data-en="Week 2 ‚Äì Eyes opening">
        Settimana 2 ‚Äì Occhi che si aprono
    </h3>

    <p data-it="Gli occhi iniziano ad aprirsi e i cuccioli scoprono la luce. I movimenti sono lenti, ma pieni di promesse."
       data-en="Their eyes start to open and they discover the light. Movements are slow but full of promise.">
       Gli occhi iniziano ad aprirsi e i cuccioli scoprono la luce. I movimenti sono lenti, ma pieni di promesse.
    </p>

    <!-- CAROSELLO FOTO -->
    <div class="carousel">
      <div class="carousel-track">
        <img src="img/settimana2-1.jpeg" loading="lazy">
        <img src="img/settimana2-2.jpeg" loading="lazy">
        <img src="img/settimana2-3.jpeg" loading="lazy">
        <img src="img/settimana2-4.jpeg" loading="lazy">
        <img src="img/settimana2-5.jpeg" loading="lazy">
        <img src="img/settimana2-6.jpeg" loading="lazy">
        <img src="img/settimana2-7.jpeg" loading="lazy">
        <img src="img/settimana2-8.jpeg" loading="lazy">
        <img src="img/settimana2-9.jpeg" loading="lazy">
        <img src="img/settimana2-10.jpeg" loading="lazy">
        <img src="img/settimana2-11.jpeg" loading="lazy">
        <img src="img/settimana2-12.jpeg" loading="lazy">
        <img src="img/settimana2-13.jpeg" loading="lazy">
        <img src="img/settimana2-14.jpeg" loading="lazy">
      </div>

      <div class="carousel-controls">
        <button class="carousel-btn left">‚ùÆ</button>
        <button class="carousel-btn right">‚ùØ</button>
      </div>
      <div class="carousel-counter">1 / 10</div>
      <div class="carousel-indicators"></div>
    </div>

    <!-- VIDEO DELLA SETTIMANA -->
    <div class="week-video">
      <h4 class="video-title"
          data-it="üé• Video della settimana"
          data-en="üé• Video of the week">
          üé• Video della settimana
      </h4>

      <div class="video-gallery">

        <div class="video-thumb" data-video="img/settimana2-video1.mp4">
          <img src="img/settimana2-video1-thumb.jpg" alt="Video 1 settimana 2">
          <span class="play-icon">‚ñ∂</span>
        </div>

        <div class="video-thumb" data-video="img/settimana2-video2.mp4">
          <img src="img/settimana2-video2-thumb.jpg" alt="Video 2 settimana 2">
          <span class="play-icon">‚ñ∂</span>
        </div>

        <div class="video-thumb" data-video="img/settimana2-video3.mp4">
          <img src="img/settimana2-video3-thumb.jpg" alt="Video 3 settimana 2">
          <span class="play-icon">‚ñ∂</span>
        </div>

      </div>
    </div>
  </div>

  <!-- ===========================
       SETTIMANA 3
  ============================ -->
  <div class="week-block" id="week3">
    <h3 data-it="Settimana 3 ‚Äì Prime esplorazioni"
        data-en="Week 3 ‚Äì First explorations">
        Settimana 3 ‚Äì Prime esplorazioni
    </h3>

    <p data-it="Iniziano a tentare i primi passi incerti, si cercano tra loro e la coda accenna i primi timidi scodinzolii."
       data-en="They attempt their first unsteady steps, look for each other and their tails start tiny wagging.">
       Iniziano a tentare i primi passi incerti, si cercano tra loro e la coda accenna i primi timidi scodinzolii.
    </p>

      <div class="carousel">
      <div class="carousel-track">
        <img src="img/settimana3-1.jpeg" loading="lazy">
        <img src="img/settimana3-2.jpeg" loading="lazy">
        <img src="img/settimana3-3.jpeg" loading="lazy">
        <img src="img/settimana3-4.jpeg" loading="lazy">
        <img src="img/settimana3-5.jpeg" loading="lazy">
        <img src="img/settimana3-6.jpeg" loading="lazy">
        <img src="img/settimana3-7.jpeg" loading="lazy">
        <img src="img/settimana3-8.jpeg" loading="lazy">
        <img src="img/settimana3-9.jpeg" loading="lazy">
        <img src="img/settimana3-10.jpeg" loading="lazy">
        <img src="img/settimana3-11.jpeg" loading="lazy">
        <img src="img/settimana3-12.jpeg" loading="lazy">
        <img src="img/settimana3-13.jpeg" loading="lazy">
        <img src="img/settimana3-14.jpeg" loading="lazy">
        <img src="img/settimana3-15.jpeg" loading="lazy">
        <img src="img/settimana3-16.jpeg" loading="lazy">
        <img src="img/settimana3-17.jpeg" loading="lazy">
      </div>

      <div class="carousel-controls">
        <button class="carousel-btn left">‚ùÆ</button>
        <button class="carousel-btn right">‚ùØ</button>
      </div>
      <div class="carousel-counter">1 / 10</div>
      <div class="carousel-indicators"></div>
    </div>

    <!-- VIDEO DELLA SETTIMANA -->
    <div class="week-video">
      <h4 class="video-title"
          data-it="üé• Video della settimana"
          data-en="üé• Video of the week">
          üé• Video della settimana
      </h4>

      <div class="video-gallery">

        <div class="video-thumb" data-video="img/settimana3-video1.mp4">
          <img src="img/settimana3-video1-thumb.jpg" alt="Video 1 settimana 3">
          <span class="play-icon">‚ñ∂</span>
        </div>

        <div class="video-thumb" data-video="img/settimana3-video2.mp4">
          <img src="img/settimana3-video2-thumb.jpg" alt="Video 2 settimana 3">
          <span class="play-icon">‚ñ∂</span>
        </div>

        <div class="video-thumb" data-video="img/settimana3-video3.mp4">
          <img src="img/settimana3-video3-thumb.jpg" alt="Video 3 settimana 3">
          <span class="play-icon">‚ñ∂</span>
        </div>

        <div class="video-thumb" data-video="img/settimana3-video4.mp4">
          <img src="img/settimana3-video4-thumb.jpg" alt="Video 4 settimana 3">
          <span class="play-icon">‚ñ∂</span>
        </div>

        <div class="video-thumb" data-video="img/settimana3-video5.mp4">
          <img src="img/settimana3-video5-thumb.jpg" alt="Video 5 settimana 3">
          <span class="play-icon">‚ñ∂</span>
        </div>

      </div>
    </div>
  </div>

</section>

<!-- FOOTER -->
<footer>
  <span data-it="¬© 2026 Cuccioli Bobtail Isotta ‚Äì Tutti i diritti riservati"
        data-en="¬© 2026 Bobtail Puppies Isotta ‚Äì All rights reserved">
        ¬© 2026 Cuccioli Bobtail Isotta ‚Äì Tutti i diritti riservati
  </span>
</footer>

<!-- LIGHTBOX -->
<div id="lightbox">
  <span id="lightbox-prev" class="lightbox-arrow">‚ùÆ</span>
  <span id="lightbox-close" class="lightbox-close">‚úï</span>
  <img id="lightbox-img" src="" alt="">
  <span id="lightbox-next" class="lightbox-arrow">‚ùØ</span>
  <div id="lightbox-caption"></div>
</div>

<!-- PULSANTE INDEX -->
<a href="index.html"
   class="fixed-btn back-to-index"
   aria-label="Torna all'homepage">
   ‚Üê
</a>

<!-- PULSANTE WHATSAPP -->
<a href="https://wa.me/393391650393"
   class="fixed-btn whatsapp-btn"
   target="_blank"
   aria-label="Contatta su WhatsApp">
   <svg viewBox="0 0 32 32" width="28" height="28" fill="white">
     <path d="M16.001 3.2c-7.064 0-12.8 5.736-12.8 12.8 0 2.256.592 4.448 1.728 6.4L3.2 28.8l6.592-1.696c1.856.992 3.936 1.504 6.208 1.504 7.064 0 12.8-5.736 12.8-12.8s-5.736-12.8-12.8-12.8zm0 23.2c-1.92 0-3.776-.48-5.44-1.408l-.384-.224-3.904 1.008 1.04-3.808-.256-.4c-1.056-1.68-1.616-3.6-1.616-5.568 0-5.92 4.8-10.72 10.72-10.72s10.72 4.8 10.72 10.72-4.8 10.72-10.72 10.72zm6.112-7.84c-.336-.176-1.984-.992-2.288-1.104-.304-.112-.528-.176-.752.176-.224.352-.864 1.104-1.056 1.328-.192.224-.384.256-.72.08-.336-.176-1.424-.528-2.712-1.68-1-.896-1.68-2.016-1.872-2.352-.192-.336-.02-.52.144-.696.148-.148.336-.384.504-.576.168-.192.224-.336.336-.56.112-.224.056-.416-.028-.592-.08-.176-.752-1.808-1.032-2.48-.272-.656-.552-.568-.752-.568-.192 0-.416-.024-.64-.024s-.592.08-.896.416c-.304.336-1.168 1.136-1.168 2.768s1.2 3.2 1.368 3.424c.168.224 2.352 3.6 5.712 5.056.8.344 1.424.552 1.912.704.804.256 1.536.224 2.112.136.648-.096 1.984-.808 2.272-1.592.288-.784.288-1.456.2-1.592-.088-.136-.304-.224-.64-.4z"/>
   </svg>
</a>

<!-- CHART.JS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>









    <script>
/* ============================================================
   CAMBIO LINGUA
============================================================ */
document.getElementById("lang-select").addEventListener("change", e => {
  const lang = e.target.value;
  document.documentElement.lang = lang;

  document.querySelectorAll("[data-it]").forEach(el => {
    const t = el.getAttribute(`data-${lang}`);
    if (t) el.innerHTML = t;
  });
});


/* ============================================================
   CAROSELLO PREMIUM ‚Äî VERSIONE DEFINITIVA
============================================================ */
document.querySelectorAll(".carousel").forEach(carousel => {

  const track = carousel.querySelector(".carousel-track");
  const imgs = [...track.children];
  const left = carousel.querySelector(".carousel-btn.left");
  const right = carousel.querySelector(".carousel-btn.right");
  const counter = carousel.querySelector(".carousel-counter");

  let index = 0;

  const update = () => {
    const imgWidth = imgs[0].clientWidth;
    track.style.transform = `translateX(-${index * imgWidth}px)`;
    counter.textContent = `${index + 1} / ${imgs.length}`;
  };

  right.addEventListener("click", e => {
    e.stopPropagation();
    index = (index + 1) % imgs.length;
    update();
  });

  left.addEventListener("click", e => {
    e.stopPropagation();
    index = (index - 1 + imgs.length) % imgs.length;
    update();
  });

  /* Swipe mobile */
  let startX = 0;
  let dragging = false;

  carousel.addEventListener("touchstart", e => {
    startX = e.touches[0].clientX;
    dragging = true;
  });

  carousel.addEventListener("touchend", e => {
    if (!dragging) return;
    const diff = e.changedTouches[0].clientX - startX;
    if (diff < -50) index = (index + 1) % imgs.length;
    if (diff > 50) index = (index - 1 + imgs.length) % imgs.length;
    update();
    dragging = false;
  });

  /* Resize */
  window.addEventListener("resize", update);

  update();
});


/* ============================================================
   LIGHTBOX IMMAGINI
============================================================ */
const lightbox = document.getElementById("lightbox");
const lbImg = document.getElementById("lightbox-img");
const lbCap = document.getElementById("lightbox-caption");
const prev = document.getElementById("lightbox-prev");
const next = document.getElementById("lightbox-next");

let currentImages = [];
let currentIndex = 0;

/* Colleziona tutte le immagini cliccabili */
document.querySelectorAll(".carousel-track img").forEach(img => {
  img.addEventListener("click", () => {
    const carousel = img.closest(".carousel-track");
    currentImages = [...carousel.querySelectorAll("img")];
    currentIndex = currentImages.indexOf(img);
    openLB();
  });
});

function openLB() {
  const img = currentImages[currentIndex];
  lbImg.src = img.src;
  lbCap.textContent = img.alt || "";
  lbImg.style.display = "block";

  /* Rimuove eventuale video precedente */
  const oldVideo = document.getElementById("lb-video");
  if (oldVideo) oldVideo.remove();

  lightbox.style.display = "flex";
  lightbox.style.opacity = "1";
}

function show(i) {
  currentIndex = (i + currentImages.length) % currentImages.length;
  openLB();
}

if (prev) prev.addEventListener("click", () => show(currentIndex - 1));
if (next) next.addEventListener("click", () => show(currentIndex + 1));

function closeLB() {
  lightbox.style.transition = "opacity 0.25s ease";
  lightbox.style.opacity = "0";
  setTimeout(() => {
    lightbox.style.display = "none";
    lightbox.style.opacity = "1";
  }, 250);
}

lightbox.addEventListener("click", e => {
  if (e.target === lightbox) closeLB();
});


/* ============================================================
   LIGHTBOX VIDEO ‚Äî VERSIONE B (video dentro la galleria)
============================================================ */
document.querySelectorAll(".week-block").forEach(week => {

  const images = [...week.querySelectorAll(".carousel-track img")];
  const videos = [...week.querySelectorAll(".video-thumb")];

  const gallery = [];

  // Aggiunge immagini
  images.forEach(img => {
    gallery.push({
      type: "image",
      src: img.src,
      alt: img.alt || ""
    });

    img.addEventListener("click", () => {
      currentImages = gallery;
      currentIndex = gallery.findIndex(i => i.src === img.src);
      openMixedLB();
    });
  });

  // Aggiunge video
  videos.forEach(v => {
    const src = v.getAttribute("data-video");

    gallery.push({
      type: "video",
      src: src
    });

    v.addEventListener("click", () => {
      currentImages = gallery;
      currentIndex = gallery.findIndex(i => i.src === src);
      openMixedLB();
    });
  });
});


/* Apertura lightbox misto (immagini + video) */
function openMixedLB() {

  const item = currentImages[currentIndex];

  // Rimuove eventuale video precedente
  const oldVideo = document.getElementById("lb-video");
  if (oldVideo) oldVideo.remove();

  if (item.type === "image") {
    lbImg.src = item.src;
    lbImg.style.display = "block";
    lbCap.textContent = item.alt || "";
  }

  if (item.type === "video") {
    lbImg.style.display = "none";
    lbCap.textContent = "";

    const video = document.createElement("video");
    video.src = item.src;
    video.controls = true;
    video.autoplay = true;
    video.id = "lb-video";
    video.style.maxWidth = "90%";
    video.style.maxHeight = "80%";
    video.style.borderRadius = "14px";
    video.style.boxShadow = "0 0 30px rgba(0,0,0,0.6)";

    lightbox.insertBefore(video, lbCap);
  }

  lightbox.style.display = "flex";
  lightbox.style.opacity = "1";
}


/* Navigazione avanti/indietro */
function showMixed(i) {
  currentIndex = (i + currentImages.length) % currentImages.length;
  openMixedLB();
}

prev.addEventListener("click", () => showMixed(currentIndex - 1));
next.addEventListener("click", () => showMixed(currentIndex + 1));

/* Chiudi lightbox video */
lightbox.addEventListener("click", e => {
  if (e.target === lightbox) {
    const v = document.getElementById("lb-video");
    if (v) v.remove();
    lbImg.style.display = "block";
    closeLB();
  }
});


/* ============================================================
   CHIUSURA CON LA X
============================================================ */
const closeBtn = document.getElementById("lightbox-close");
if (closeBtn) {
  closeBtn.addEventListener("click", () => {
    const v = document.getElementById("lb-video");
    if (v) v.remove();
    lbImg.style.display = "block";
    closeLB();
  });
}


/* ============================================================
   GRAFICO CRESCITA (Chart.js)
============================================================ */
const ctx = document.getElementById('growthChart');
if (ctx) {
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ["1","2","3","4","5","6","7","8","9","10","11","12"],
      datasets: [{
        label: "Peso (kg)",
        data: [0.4,0.7,1.1,1.6,2.2,2.8,3.4,4.0,4.6,5.2,5.8,6.4],
        borderColor: "#A39261",
        backgroundColor: "rgba(163,146,97,0.25)",
        borderWidth: 3,
        tension: 0.3,
        pointRadius: 3,
        pointBackgroundColor: "#A39261"
      }]
    },
    options: {
      plugins: {
        legend: { labels: { color: "#e6e6e6" } }
      },
      scales: {
        x: { ticks: { color: "#ccc" }, grid: { color: "#333" } },
        y: { beginAtZero: true, ticks: { color: "#ccc" }, grid: { color: "#333" } }
      }
    }
  });
}
</script>
</body>
</html>
